{% from "partials/header.njk" import header %}
{% from "partials/footer.njk" import footer %}

<!doctype html>
<html lang="{{ metadata.language }}">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title or metadata.title }}</title>
    <meta name="description" content="{{ description or metadata.description }}">
    <link rel="alternate" href="{{ metadata.feed.path | url }}" type="application/atom+xml" title="{{ metadata.title }}">
    <link rel="alternate" href="{{ metadata.jsonfeed.path | url }}" type="application/json" title="{{ metadata.title }}">
    <link rel="icon" type="image/svg+xml"
      href="data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg version='1.1' viewBox='0 0 32.802 57.015' xmlns='http://www.w3.org/2000/svg'%3E%3Cg transform='translate(4.3631 7.1339)' fill='%23d11288' fill-rule='evenodd' font-size='12px' stroke='%23cc19ab' stroke-linecap='round' stroke-width='.6mm'%3E%3Cpath d='m25.4 27.75q0 2.85-1.3 4.75t-3.425 3.025-4.6 1.6a25.992 25.992 0 0 1-4.088 0.463 23.554 23.554 0 0 1-0.737 0.012 17.444 17.444 0 0 1-4.898-0.676 16.227 16.227 0 0 1-0.852-0.274q-1.1-0.4-2.15-0.875t-2.2-0.775a25.686 25.686 0 0 0-0.269-1.675 34.386 34.386 0 0 0-0.406-1.825q-0.437-1.75-0.472-3.203a10.392 10.392 0 0 1-3e-3 -0.247 3.508 3.508 0 0 1 0.021-0.396q0.048-0.418 0.204-0.679a0.636 0.636 0 0 1 0.276-0.242q0.272-0.133 0.749-0.133 0.554 0 0.795 0.203a0.505 0.505 0 0 1 0.105 0.122 1.789 1.789 0 0 1 0.141 0.288q0.058 0.15 0.103 0.329a3.931 3.931 0 0 1 0.056 0.258q0.2 0.7 0.35 1.375t0.35 1.375a10.797 10.797 0 0 0 0.761 1.775q0.527 0.961 1.209 1.636a5.452 5.452 0 0 0 1.005 0.789 7.7 7.7 0 0 0 2.177 0.881q1.3 0.319 2.898 0.319a15.452 15.452 0 0 0 2.419-0.181 11.918 11.918 0 0 0 2.156-0.544 6.785 6.785 0 0 0 2.199-1.267 6.355 6.355 0 0 0 1.001-1.108q1.007-1.414 1.151-3.637a11.819 11.819 0 0 0 0.024-0.763q0-2.15-1.45-3.875a12.73 12.73 0 0 0-1.923-1.868 10.829 10.829 0 0 0-1.277-0.857q-0.4-0.25-0.85-0.45l-0.9-0.4q-1.55-0.8-3.125-1.6t-3.175-1.55a20.3 20.3 0 0 1-1.867-1.1 25.607 25.607 0 0 1-1.308-0.925q-1.625-1.225-2.75-2.825t-1.125-3.5a9.92 9.92 0 0 1 0.281-2.418 7.364 7.364 0 0 1 1.419-2.882 10.401 10.401 0 0 1 4.267-3.117 12.201 12.201 0 0 1 0.083-0.033q2.65-1.05 5.5-1.05 2.05 0 3.675 0.5t3.225 1.025a15.814 15.814 0 0 0 2.229 0.549 19.185 19.185 0 0 0 1.271 0.176l0.3 3q0.15 1.5 0.45 3 0.05 0.2 0.075 0.4t0.025 0.4a1.863 1.863 0 0 1-0.033 0.363q-0.039 0.198-0.126 0.344a0.768 0.768 0 0 1-0.366 0.318 2.778 2.778 0 0 1-0.781 0.203 3.445 3.445 0 0 1-0.394 0.022 2.578 2.578 0 0 1-0.223-9e-3q-0.436-0.038-0.477-0.241l-0.15-0.75a15.203 15.203 0 0 0-0.6-2.465q-0.755-2.215-2.15-3.56a6.584 6.584 0 0 0-2.503-1.478q-1.615-0.547-3.797-0.547a9.377 9.377 0 0 0-1.928 0.186q-1.204 0.253-2.122 0.85a5.298 5.298 0 0 0-0.775 0.614 5.292 5.292 0 0 0-1.418 2.409q-0.307 1.062-0.307 2.391a6.649 6.649 0 0 0 0.218 1.741 5.215 5.215 0 0 0 0.882 1.809q1.1 1.45 2.925 2.525a35.341 35.341 0 0 0 2.675 1.419 41.938 41.938 0 0 0 1.325 0.606q2.175 0.95 4.325 1.95t3.975 2.325 2.925 3.175a7.591 7.591 0 0 1 0.904 2.407 10.636 10.636 0 0 1 0.196 2.093z' fill='%23d11288' stroke='%23d11288' vector-effect='non-scaling-stroke'/%3E%3C/g%3E%3Crect x='.5' y='51.773' width='31.802' height='5.742' fill='%23d11288' stroke-opacity='0'/%3E%3C/svg%3E" />

    <!-- Serve CSS inline on prod for performance -->
    {%- css %}{% include "src/css/reset.css" %}{% endcss %}
    {%- css %}{% include "src/css/index.css" %}{% endcss %}
    {%- css %}{% include "src/css/colorSlide.css" %}{% endcss %}
    {%- css %}{% include "src/css/code.css" %}{% endcss %}
    {%- css %}{% include "src/css/footer.css" %}{% endcss %}
    {%- css %}{% include "src/css/link.css" %}{% endcss %}
    {%- css %}{% include "src/css/header.css" %}{% endcss %}
    {%- css %}{% include "src/css/posts.css" %}{% endcss %}
    {%- css %}{% include "src/css/scrollbar.css" %}{% endcss %}
    {%- css %}{% include "src/css/themePicker.css" %}{% endcss %}
    {%- if eleventy.env.runMode === "serve" %}
      <link rel="stylesheet" href="{% getBundleFileUrl "css" %}">
    {%- else  %}
      <style>
        {% getBundle "css" %}
      </style>
    {%- endif %}

    <!-- Needed to prevent FOUS -->
    <script>
      if (localStorage.theme) 
        document
          .documentElement
          .setAttribute("data-theme", localStorage.theme);
    </script>
  </head>
  <body>
    {{ header(collections.all, page.url) }}

    <main{% if templateClass %} class="{{ templateClass }}"{% endif %}>
      {{ content | safe }}
    </main>

    {{ footer() }}
    <script src={{ "/scripts/theming.js" | url }}></script>
  </body>
</html>